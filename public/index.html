<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.38/browser.min.js"></script>
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link href="/src/assets/css/common.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/1a82f71215.js" crossorigin="anonymous"></script>
    <title>leehyeonho.github.io</title>
    <script>
      var workMl = 0;
      var projectMl = 0;
      var workCnt = currentWorkItem($('.work_list').width());
      var projectCnt = currentWorkItem($('.project_list').width());
      
      function currentWorkItem(width) {
        if(width > 1250) {
            return 4;
        } else if (width > 950) {
            return 3;
        } else if (width > 650) {
            return 2;
        } else {
            return 1;
        }
      }

      function resize() {
        workMl = 0;
        $('.work_list').animate({'margin-left': workMl + 'px'}, 0, function() {
          workSize = $('.work_list').width();
          workCard = $('.work_card');
          workCnt = currentWorkItem($('.work_list').width());
          for(var i = 0;i<workCard.length;i++) {
            workCard[i].style.minWidth = workSize/workCnt-30 + "px";
          }
          $('#work_next').prop("disabled", false);
        });
        projectMl = 0;
        $('.project_list').animate({'margin-left': projectMl + 'px'}, 0, function() {
          projectSize = $('.project_list').width();
          projectCard = $('.project_card');
          projectCnt = currentWorkItem($('.project_list').width());
          for(var i = 0;i<projectCard.length;i++) {
            projectCard[i].style.minWidth = projectSize/projectCnt-30 + "px";
          }
          $('#project_next').prop("disabled", false);
        });
        workLength = $('.work_list').children().length;
        projectLength = $('.project_list').children().length;
        if(workCnt > workLength) {
          $('.work_list').css('justify-content', 'center');
        } else {
          $('.work_list').css('justify-content','');
        }
        if(projectCnt > projectLength) {
          $('.project_list').css('justify-content', 'center');
        } else {
          $('.project_list').css('justify-content','');
        }
      }

      $(function(){
        resize();

        $(window).resize(function() {
          resize();
        });

        /*
        work list arrow button        
        */
        $('#work_next').click(function() {
          $(this).prop("disabled", true);
          thisUl = $(this).siblings('ul');
          var liCnt = thisUl.children().length - workCnt;
          if(liCnt <= 0) {
            return false;
          }
          width = thisUl.children().width() + 30;
          
          if( workMl == -(width * liCnt)) {
            return false;
          } else {
            workMl -= width;
            thisUl.animate({'margin-left': workMl + 'px'}, 1000, function() {
              $('#work_next').prop("disabled", false);
            })
          }
          $('#work_prev').prop("disabled", false);
        });
        $('#work_prev').click(function() {
          $(this).prop("disabled", true);
          thisUl = $(this).siblings('ul');
          width = $('.work_card').width() + 30;
          if( workMl == 0) {
            return false;
          } else {
            workMl += width;
            thisUl.animate({'margin-left': workMl + 'px'}, 1000, function() {
              $('#work_prev').prop("disabled", false);
            })
          }
          $('#work_next').prop("disabled", false);
        });

        /*
        project list arrow button        
        */
        $('#project_next').click(function() {
          $(this).prop("disabled", true);
          thisUl = $(this).siblings('ul');
          var liCnt = thisUl.children().length - workCnt;
          if(liCnt <= 0) {
            return false;
          }
          width = thisUl.children().width() + 30;
          
          if( projectMl == -(width * liCnt)) {
            return false;
          } else {
            projectMl -= width;
            thisUl.animate({'margin-left': projectMl + 'px'}, 1000, function() {
              $('#project_next').prop("disabled", false);
            })
          }
          $('#project_prev').prop("disabled", false);
        });
        $('#project_prev').click(function() {
          $(this).prop("disabled", true);
          thisUl = $(this).siblings('ul');
          width = thisUl.children().width() + 30;
          if( projectMl == 0) {
            return false;
          } else {
            projectMl += width;
            thisUl.animate({'margin-left': projectMl + 'px'}, 1000, function() {
              $('#project_prev').prop("disabled", false);
            })
          }
          $('#project_next').prop("disabled", false);
        });
      });
    </script>
  </head>
  <body >
    <noscript>You need to enable JavaScript to run this page.</noscript>
    <div id="root"></div>
  </body>
</html>
